<!-- æ”¶è´§åœ°å€ç®¡ç†é¡µé¢ -->
<view class="address-container">
  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <view class="header">
    <view class="back-btn" bindtap="goBack">â†</view>
    <text class="page-title">æ”¶è´§åœ°å€</text>
    <view class="add-btn" bindtap="addAddress">+ æ–°å¢</view>
  </view>

  <!-- åœ°å€åˆ—è¡¨ -->
  <view class="address-list">
    <view 
      class="address-item {{selectMode ? 'selectable' : ''}} {{item.isDefault ? 'default' : ''}}"
      wx:for="{{addresses}}"
      wx:key="id"
      bindtap="selectAddress"
      data-id="{{item.id}}"
    >
      <view class="address-content">
        <view class="address-header">
          <text class="address-name">{{item.name}}</text>
          <text class="address-phone">{{item.phone}}</text>
          <text class="default-tag" wx:if="{{item.isDefault}}">é»˜è®¤</text>
        </view>
        <text class="address-detail">{{item.address}}{{item.detail || ''}}</text>
      </view>
      
      <view class="address-actions" catchtap="stopPropagation" wx:if="{{!selectMode}}">
        <view class="action-item" bindtap="setDefault" data-id="{{item.id}}" wx:if="{{!item.isDefault}}">
          <text class="action-text">è®¾ä¸ºé»˜è®¤</text>
        </view>
        <view class="action-item" bindtap="editAddress" data-id="{{item.id}}">
          <text class="action-text">ç¼–è¾‘</text>
        </view>
        <view class="action-item delete" bindtap="deleteAddress" data-id="{{item.id}}">
          <text class="action-text">åˆ é™¤</text>
        </view>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{addresses.length === 0}}">
      <text class="empty-icon">ğŸ“</text>
      <text class="empty-text">æš‚æ— æ”¶è´§åœ°å€</text>
      <button class="btn-primary" bindtap="addAddress">æ·»åŠ åœ°å€</button>
    </view>
  </view>
</view>

