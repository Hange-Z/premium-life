<!-- 收藏页面 -->
<view class="collection-container">
  <!-- 顶部导航 -->
  <view class="header">
    <view class="back-btn" bindtap="goBack">←</view>
    <text class="page-title">我的收藏</text>
    <view class="header-actions">
      <text class="action-btn" bindtap="selectAll">全选</text>
      <text class="action-btn" bindtap="deleteSelected">删除</text>
    </view>
  </view>

  <!-- 内容区域 -->
  <view class="content">
    <!-- 收藏统计 -->
    <view class="stats-card">
      <view class="stat-item">
        <text class="stat-number">{{totalItems}}</text>
        <text class="stat-label">收藏商品</text>
      </view>
      <view class="stat-item">
        <text class="stat-number">{{totalValue}}</text>
        <text class="stat-label">总价值</text>
      </view>
    </view>

    <!-- 收藏列表 -->
    <view class="collection-list" wx:if="{{collections.length > 0}}">
      <view class="collection-item" wx:for="{{collections}}" wx:key="id">
        <view class="item-checkbox" bindtap="toggleSelect" data-id="{{item.id}}">
          <text class="checkbox {{item.selected ? 'checked' : ''}}">{{item.selected ? '✓' : ''}}</text>
        </view>
        <image class="item-image" src="{{item.image}}" mode="aspectFill" />
        <view class="item-info">
          <text class="item-title">{{item.title}}</text>
          <text class="item-spec">规格：{{item.spec}}</text>
          <view class="item-price-section">
            <text class="item-price">¥{{item.price}}</text>
            <text class="item-quantity">x{{item.quantity}}</text>
          </view>
        </view>
        <view class="item-actions">
          <view class="action-icon" bindtap="addToCart" data-item="{{item}}">🛒</view>
          <view class="action-icon" bindtap="removeFromCollection" data-id="{{item.id}}">🗑️</view>
        </view>
      </view>
    </view>

    <!-- 空状态 -->
    <view class="empty-state" wx:else>
      <text class="empty-icon">📦</text>
      <text class="empty-text">暂无收藏商品</text>
      <text class="empty-subtext">去分类页面发现更多好物吧</text>
      <button class="btn-primary" bindtap="goToCategory">去逛逛</button>
    </view>
  </view>

  <!-- 底部操作栏 -->
  <view class="bottom-bar" wx:if="{{collections.length > 0}}">
    <view class="select-info">
      <text class="select-text">已选择 {{selectedCount}} 件商品</text>
    </view>
    <view class="bottom-actions">
      <button class="btn-secondary" bindtap="addSelectedToCart">加入购物车</button>
      <button class="btn-primary" bindtap="buySelected">立即购买</button>
    </view>
  </view>
</view>