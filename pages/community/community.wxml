<!-- ç¤¾åŒºé¡µé¢ -->
<view class="community-container">
  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <view class="header" style="padding-top: {{headerPaddingTop}}rpx;">
    <text class="page-title">ç¤¾åŒº</text>
    <view class="user-avatar">ğŸ‘¤</view>
  </view>

  <!-- å†…å®¹åŒºåŸŸ -->
  <view class="content">
    <view class="welcome-card">
      <text class="welcome-text">æ¬¢è¿æ¥åˆ°å•†å“ç¤¾åŒº</text>
      <text class="sub-text">åˆ†äº«è´­ç‰©å¿ƒå¾—ï¼Œå‘ç°æ›´å¤šå¥½ç‰©</text>
    </view>

    <!-- åŠŸèƒ½åŒºåŸŸ -->
    <view class="feature-grid">
      <view class="feature-item" bindtap="goToPosts">
        <text class="feature-icon">ğŸ“</text>
        <text class="feature-text">å‘å¸ƒåŠ¨æ€</text>
      </view>
      <view class="feature-item" bindtap="goToGallery">
        <text class="feature-icon">ğŸ“¸</text>
        <text class="feature-text">å›¾ç‰‡åˆ†äº«</text>
      </view>
      <view class="feature-item" bindtap="goToCollection">
        <text class="feature-icon">â¤ï¸</text>
        <text class="feature-text">æˆ‘çš„æ”¶è—</text>
      </view>
    </view>

    <!-- åŠ¨æ€åˆ—è¡¨ -->
    <view class="posts-section">
      <text class="section-title">æœ€æ–°åŠ¨æ€</text>
      <view class="post-list">
        <view class="post-item" wx:for="{{posts}}" wx:key="id">
          <view class="post-header">
            <image class="user-avatar-small" src="{{item.avatar}}" />
            <text class="username">{{item.username}}</text>
            <text class="post-time">{{item.time}}</text>
          </view>
          <text class="post-content">{{item.content}}</text>
          
          <!-- å›¾ç‰‡å±•ç¤º -->
          <view class="post-images" wx:if="{{item.images && item.images.length > 0}}">
            <image 
              class="post-image {{item.images.length === 1 ? 'single' : ''}}"
              wx:for="{{item.images}}"
              wx:key="index"
              src="{{item}}"
              mode="aspectFill"
              bindtap="previewImage"
              data-url="{{item}}"
              data-urls="{{item.images}}"
            ></image>
          </view>
          
          <!-- è¯„è®ºåˆ—è¡¨ -->
          <view class="comments-section" wx:if="{{item.commentsList && item.commentsList.length > 0}}">
            <view 
              class="comment-item"
              wx:for="{{item.commentsList}}"
              wx:key="id"
            >
              <text class="comment-username">{{item.username}}ï¼š</text>
              <text class="comment-content">{{item.content}}</text>
            </view>
          </view>
          
          <view class="post-actions">
            <view class="action-btn {{item.liked ? 'liked' : ''}}" bindtap="likePost" data-id="{{item.id}}">
              <text class="action-icon">{{item.liked ? 'â¤ï¸' : 'ğŸ‘'}}</text>
              <text class="action-text">{{item.likes}}</text>
            </view>
            <view class="action-btn" bindtap="commentPost" data-id="{{item.id}}">
              <text class="action-icon">ğŸ’¬</text>
              <text class="action-text">{{item.comments}}</text>
            </view>
          </view>
        </view>
      </view>
    </view>
  </view>
</view>