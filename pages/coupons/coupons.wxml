<!-- ä¼˜æƒ åˆ¸é¡µé¢ -->
<view class="coupons-container">
  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <view class="header">
    <view class="back-btn" bindtap="goBack">â†</view>
    <text class="page-title">ä¼˜æƒ åˆ¸</text>
    <view class="header-placeholder"></view>
  </view>
  <!-- æ ‡ç­¾æ  -->
  <view class="tabs-bar">
    <view 
      class="tab-item {{currentTab === item.key ? 'active' : ''}}"
      wx:for="{{tabs}}"
      wx:key="key"
      data-tab="{{item.key}}"
      bindtap="switchTab"
    >
      {{item.label}}
    </view>
  </view>

  <!-- ä¼˜æƒ åˆ¸åˆ—è¡¨ -->
  <view class="coupons-list">
    <view 
      class="coupon-item {{item.type}}"
      wx:for="{{filteredCoupons}}"
      wx:key="id"
    >
      <view class="coupon-left">
        <view class="coupon-value">
          <text class="value-symbol" wx:if="{{item.type === 'discount'}}">Â¥</text>
          <text class="value-number">{{item.value}}</text>
          <text class="value-unit" wx:if="{{item.type === 'percent'}}">æŠ˜</text>
        </view>
        <text class="coupon-condition">{{item.condition}}</text>
      </view>
      <view class="coupon-right">
        <text class="coupon-name">{{item.name}}</text>
        <text class="coupon-time">æœ‰æ•ˆæœŸè‡³ {{item.endTime}}</text>
        <text class="coupon-desc">{{item.description}}</text>
        <button 
          class="use-btn" 
          wx:if="{{currentTab === 'available'}}"
          bindtap="useCoupon"
          data-id="{{item.id}}"
        >
          ç«‹å³ä½¿ç”¨
        </button>
      </view>
    </view>

    <!-- ç©ºçŠ¶æ€ -->
    <view class="empty-state" wx:if="{{filteredCoupons.length === 0}}">
      <text class="empty-icon">ğŸ«</text>
      <text class="empty-text">æš‚æ— {{currentTab === 'available' ? 'å¯ç”¨' : currentTab === 'used' ? 'å·²ç”¨' : 'å·²è¿‡æœŸ'}}ä¼˜æƒ åˆ¸</text>
    </view>
  </view>
</view>

