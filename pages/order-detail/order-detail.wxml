<!-- è®¢å•è¯¦æƒ…é¡µé¢ -->
<view class="order-detail-container" wx:if="{{order}}">
  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <view class="header">
    <view class="back-btn" bindtap="goBack">â†</view>
    <text class="page-title">è®¢å•è¯¦æƒ…</text>
    <view class="header-placeholder"></view>
  </view>
  <!-- è®¢å•çŠ¶æ€ -->
  <view class="status-section">
    <text class="status-icon">ğŸ“¦</text>
    <text class="status-text">{{order.statusText}}</text>
    <text class="status-desc" wx:if="{{order.status === 'unpaid'}}">è¯·åœ¨30åˆ†é’Ÿå†…å®Œæˆæ”¯ä»˜</text>
  </view>

  <!-- æ”¶è´§åœ°å€ -->
  <view class="address-section" wx:if="{{order.address}}">
    <view class="section-header">
      <text class="section-title">æ”¶è´§ä¿¡æ¯</text>
    </view>
    <view class="address-content">
      <view class="address-info">
        <text class="address-name">{{order.address.name}}</text>
        <text class="address-phone">{{order.address.phone}}</text>
      </view>
      <text class="address-detail">{{order.address.address}}</text>
    </view>
  </view>

  <!-- å•†å“åˆ—è¡¨ -->
  <view class="items-section">
    <view class="section-header">
      <text class="section-title">å•†å“ä¿¡æ¯</text>
    </view>
    <view 
      class="order-item"
      wx:for="{{order.items}}"
      wx:key="id"
    >
      <image class="item-image" src="{{item.image}}" mode="aspectFill"></image>
      <view class="item-info">
        <text class="item-title">{{item.title}}</text>
        <text class="item-spec">{{item.spec}}</text>
        <view class="item-bottom">
          <text class="item-price">Â¥{{item.price}}</text>
          <text class="item-quantity">x{{item.quantity}}</text>
        </view>
      </view>
    </view>
  </view>

  <!-- è®¢å•ä¿¡æ¯ -->
  <view class="info-section">
    <view class="info-item">
      <text class="info-label">è®¢å•å·</text>
      <view class="info-value">
        <text>{{order.id}}</text>
        <text class="copy-btn" bindtap="copyOrderId">å¤åˆ¶</text>
      </view>
    </view>
    <view class="info-item">
      <text class="info-label">ä¸‹å•æ—¶é—´</text>
      <text class="info-value">{{order.createTime}}</text>
    </view>
    <view class="info-item" wx:if="{{order.remark}}">
      <text class="info-label">å¤‡æ³¨</text>
      <text class="info-value">{{order.remark}}</text>
    </view>
  </view>

  <!-- ä»·æ ¼æ˜ç»† -->
  <view class="price-section">
    <view class="price-item">
      <text class="price-label">å•†å“æ€»é¢</text>
      <text class="price-value">Â¥{{order.totalPrice}}</text>
    </view>
    <view class="price-item">
      <text class="price-label">è¿è´¹</text>
      <text class="price-value">Â¥0.00</text>
    </view>
    <view class="price-total">
      <text class="total-label">å®ä»˜é‡‘é¢</text>
      <text class="total-price">Â¥{{order.totalPrice}}</text>
    </view>
  </view>

  <!-- æ“ä½œæŒ‰é’® -->
  <view class="action-bar">
    <button 
      class="action-btn secondary"
      wx:if="{{order.status === 'unpaid'}}"
      bindtap="cancelOrder"
    >
      å–æ¶ˆè®¢å•
    </button>
    <button 
      class="action-btn primary"
      wx:if="{{order.status === 'unpaid'}}"
      bindtap="payOrder"
    >
      ç«‹å³æ”¯ä»˜
    </button>
    <button 
      class="action-btn primary"
      wx:if="{{order.status === 'unconfirmed'}}"
      bindtap="confirmReceive"
    >
      ç¡®è®¤æ”¶è´§
    </button>
    <button 
      class="action-btn secondary"
      wx:if="{{order.status === 'completed' || order.status === 'cancelled'}}"
      bindtap="buyAgain"
    >
      å†æ¬¡è´­ä¹°
    </button>
  </view>
</view>





