<!-- å›¾ç‰‡åˆ†äº«é¡µé¢ -->
<view class="gallery-container">
  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <view class="header">
    <view class="back-btn" bindtap="goBack">â†</view>
    <text class="page-title">å›¾ç‰‡åˆ†äº«</text>
    <view class="share-btn" bindtap="shareGallery">åˆ†äº«</view>
  </view>

  <!-- å›¾ç‰‡å±•ç¤ºåŒº -->
  <view class="gallery-content">
    <swiper class="gallery-swiper" indicator-dots="{{true}}" autoplay="{{false}}">
      <swiper-item wx:for="{{galleryImages}}" wx:key="index">
        <image 
          class="gallery-image" 
          src="{{item.url}}" 
          mode="aspectFit"
          bindtap="previewImage"
          data-url="{{item.url}}"
        />
      </swiper-item>
    </swiper>

    <!-- å›¾ç‰‡ä¿¡æ¯ -->
    <view class="image-info">
      <text class="image-title">{{currentImage.title}}</text>
      <text class="image-description">{{currentImage.description}}</text>
      <view class="image-meta">
        <text class="upload-time">ä¸Šä¼ æ—¶é—´ï¼š{{currentImage.uploadTime}}</text>
        <text class="view-count">æµè§ˆï¼š{{currentImage.viewCount}}</text>
      </view>
    </view>

    <!-- æ“ä½œæŒ‰é’® -->
    <view class="action-buttons">
      <view class="action-btn" bindtap="likeImage">
        <text class="action-icon">{{isLiked ? 'â¤ï¸' : 'ğŸ¤'}}</text>
        <text class="action-text">{{isLiked ? 'å·²ç‚¹èµ' : 'ç‚¹èµ'}}</text>
      </view>
      <view class="action-btn" bindtap="collectImage">
        <text class="action-icon">{{isCollected ? 'â­' : 'â˜†'}}</text>
        <text class="action-text">{{isCollected ? 'å·²æ”¶è—' : 'æ”¶è—'}}</text>
      </view>
      <view class="action-btn" bindtap="downloadImage">
        <text class="action-icon">â¬‡ï¸</text>
        <text class="action-text">ä¸‹è½½</text>
      </view>
    </view>

    <!-- ç›¸å…³æ¨è -->
    <view class="related-section">
      <text class="section-title">ç›¸å…³æ¨è</text>
      <scroll-view class="related-scroll" scroll-x="true">
        <view class="related-list">
          <view 
            class="related-item" 
            wx:for="{{relatedImages}}" 
            wx:key="id"
            bindtap="switchToImage"
            data-index="{{item.index}}"
          >
            <image src="{{item.url}}" mode="aspectFill" />
            <text class="related-title">{{item.title}}</text>
          </view>
        </view>
      </scroll-view>
    </view>
  </view>
</view>