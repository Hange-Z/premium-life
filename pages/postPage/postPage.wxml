<!-- å‘å¸ƒåŠ¨æ€é¡µé¢ -->
<view class="post-page-container">
  <!-- é¡¶éƒ¨å¯¼èˆª -->
  <view class="header">
    <view class="back-btn" bindtap="goBack">â†</view>
    <text class="page-title">å‘å¸ƒåŠ¨æ€</text>
    <view class="publish-btn" bindtap="publishPost">å‘å¸ƒ</view>
  </view>

  <!-- å†…å®¹åŒºåŸŸ -->
  <view class="content">
    <!-- æ–‡æœ¬è¾“å…¥åŒº -->
    <view class="text-input-section">
      <textarea 
        class="post-textarea" 
        placeholder="åˆ†äº«ä½ çš„è´­ç‰©å¿ƒå¾—..." 
        bindinput="onTextInput"
        value="{{postContent}}"
        maxlength="500"
      ></textarea>
      <text class="char-count">{{postContent.length}}/500</text>
    </view>

    <!-- å›¾ç‰‡ä¸Šä¼ åŒº -->
    <view class="image-upload-section">
      <text class="section-title">æ·»åŠ å›¾ç‰‡</text>
      <view class="image-grid">
        <view 
          class="image-item" 
          wx:for="{{images}}" 
          wx:key="index"
        >
          <image src="{{item}}" mode="aspectFill" />
          <view class="delete-btn" bindtap="deleteImage" data-index="{{index}}">Ã—</view>
        </view>
        <view 
          class="upload-btn" 
          bindtap="chooseImage" 
          wx:if="{{images.length < 9}}"
        >
          <text class="upload-icon">+</text>
          <text class="upload-text">æ·»åŠ å›¾ç‰‡</text>
        </view>
      </view>
    </view>

    <!-- å•†å“å…³è”åŒº -->
    <view class="product-section">
      <text class="section-title">å…³è”å•†å“</text>
      <view class="product-selector" bindtap="selectProduct">
        <view class="selected-product" wx:if="{{selectedProduct}}">
          <image src="{{selectedProduct.image}}" mode="aspectFill" />
          <view class="product-info">
            <text class="product-title">{{selectedProduct.title}}</text>
            <text class="product-price">Â¥{{selectedProduct.price}}</text>
          </view>
          <view class="remove-btn" bindtap="removeProduct">Ã—</view>
        </view>
        <view class="select-product-btn" wx:else>
          <text class="select-icon">ğŸ›ï¸</text>
          <text class="select-text">é€‰æ‹©å•†å“</text>
        </view>
      </view>
    </view>

    <!-- æ ‡ç­¾é€‰æ‹©åŒº -->
    <view class="tags-section">
      <text class="section-title">æ·»åŠ æ ‡ç­¾</text>
      <view class="tags-grid">
        <view 
          class="tag-item {{item.selected ? 'selected' : ''}}"
          wx:for="{{tags}}" 
          wx:key="id"
          bindtap="toggleTag"
          data-id="{{item.id}}"
        >
          {{item.name}}
        </view>
      </view>
    </view>
  </view>
</view>